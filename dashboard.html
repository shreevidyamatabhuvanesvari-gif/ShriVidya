<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ü™∑ ‡§∂‡•ç‡§∞‡•Ä‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§™‡•à‡§®‡§≤</title>

  <style>
    body {
      background: linear-gradient(135deg, #220033, #550077, #220033);
      font-family: 'Noto Sans Devanagari', sans-serif;
      color: #fff;
      margin: 0;
      text-align: center;
    }

    header {
      background: rgba(255,255,255,0.1);
      padding: 15px;
      backdrop-filter: blur(10px);
    }

    #quizPanel {
      background: rgba(255,255,255,0.15);
      margin: 30px auto;
      width: 90%;
      max-width: 700px;
      padding: 25px;
      border-radius: 16px;
    }

    button {
      background: linear-gradient(90deg,#ff8c00,#ff0066);
      border: none;
      padding: 10px 16px;
      color: #fff;
      border-radius: 8px;
      margin: 6px;
      cursor: pointer;
    }

    input, textarea {
      width: 90%;
      padding: 8px;
      margin-top: 6px;
      border-radius: 6px;
      border: none;
    }
  </style>
</head>
<body>

<header>
  <h1>ü™∑ ‡§∂‡•ç‡§∞‡•Ä‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§™‡•à‡§®‡§≤ ‚Äî ‡§∏‡§ñ‡§ø‡§µ‡§æ‡§£‡•Ä</h1>
</header>

<div id="quizPanel">
  <h3>üå∫ ‡§µ‡§ø‡§∑‡§Ø ‡§ö‡•Å‡§®‡•á‡§Ç:</h3>

  <button onclick="openSubject('‡§á‡§§‡§ø‡§π‡§æ‡§∏')">‡§á‡§§‡§ø‡§π‡§æ‡§∏</button>
  <button onclick="openSubject('‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®')">‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®</button>
  <button onclick="openSubject('‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ú‡•ç‡§û‡§æ‡§®')">‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ú‡•ç‡§û‡§æ‡§®</button>

  <br><br>

  <!-- üî• Panel-B Button -->
  <button onclick="location.href='dashboard_B.html'">
    üß© Panel-B (‡§®‡§Ø‡§æ ‡§ü‡•â‡§™‡§ø‡§ï ‡§ú‡•ã‡§°‡§º‡•á‡§Ç)
  </button>
</div>

<script>
const fixedTopics = {
  "‡§á‡§§‡§ø‡§π‡§æ‡§∏": ["‡§™‡•ç‡§∞‡§æ‡§ö‡•Ä‡§® ‡§≠‡§æ‡§∞‡§§","‡§Æ‡§ß‡•ç‡§Ø‡§ï‡§æ‡§≤‡•Ä‡§® ‡§≠‡§æ‡§∞‡§§","‡§Ü‡§ß‡•Å‡§®‡§ø‡§ï ‡§≠‡§æ‡§∞‡§§"],
  "‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®": ["‡§≠‡•å‡§§‡§ø‡§ï‡•Ä","‡§∞‡§∏‡§æ‡§Ø‡§® ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®","‡§ú‡•Ä‡§µ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§®"],
  "‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§ú‡•ç‡§û‡§æ‡§®": ["‡§≠‡§æ‡§∞‡§§","‡§µ‡§ø‡§∂‡•ç‡§µ","‡§ñ‡•á‡§≤"]
};

function getAllTopics(subject){
  const custom = JSON.parse(localStorage.getItem("custom_"+subject) || "[]");
  return [...fixedTopics[subject], ...custom];
}

function openSubject(sub){
  let topics = getAllTopics(sub);

  let html=`<h3>${sub} ‚Äî ‡§ü‡•â‡§™‡§ø‡§ï ‡§ö‡•Å‡§®‡•á‡§Ç</h3>`;
  topics.forEach(t=>{
    html+=`<button onclick="openTopic('${sub}','${t}')">${t}</button>`;
  });

  html+=`<br><button onclick="location.reload()">‚¨ÖÔ∏è ‡§µ‡§æ‡§™‡§∏</button>`;
  quizPanel.innerHTML=html;
}

function openTopic(sub,topic){
  quizPanel.innerHTML=`
  <h3>${topic}</h3>

  <button onclick="addOne('${sub}','${topic}')">‚ûï One-liner ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  <button onclick="viewOne('${sub}','${topic}')">üëÄ One-liner ‡§¶‡•á‡§ñ‡•á‡§Ç</button>
  <br>
  <button onclick="addQuiz('${sub}','${topic}')">‚ûï Quiz ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</button>
  <button onclick="viewQuiz('${sub}','${topic}')">üëÄ Quiz ‡§¶‡•á‡§ñ‡•á‡§Ç</button>
  <br><br>
  <button onclick="openSubject('${sub}')">‚¨ÖÔ∏è ‡§µ‡§æ‡§™‡§∏</button>
  `;
}

function addOne(sub,topic){
  quizPanel.innerHTML=`
  <h3>One-liner ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h3>
  <textarea id="txt" placeholder="‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‚Äì ‡§â‡§§‡•ç‡§§‡§∞"></textarea><br>
  <button onclick="saveOne('${sub}','${topic}')">‡§∏‡•á‡§µ</button>
  `;
}

function saveOne(sub,topic){
  let key=sub+topic+"one";
  let arr=JSON.parse(localStorage.getItem(key)||"[]");
  arr.push(txt.value);
  localStorage.setItem(key,JSON.stringify(arr));
  alert("‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ");
}

function viewOne(sub,topic){
  let key=sub+topic+"one";
  let arr=JSON.parse(localStorage.getItem(key)||"[]");
  let html="<h3>One-liners</h3>";
  arr.forEach(q=>html+=`<p>${q}</p>`);
  quizPanel.innerHTML=html;
}

function addQuiz(sub,topic){
  quizPanel.innerHTML=`
  <h3>Quiz ‡§ú‡•ã‡§°‡§º‡•á‡§Ç</h3>
  <textarea id="txt" placeholder="‡§™‡•ç‡§∞‡§∂‡•ç‡§® + ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ + ‡§â‡§§‡•ç‡§§‡§∞"></textarea><br>
  <button onclick="saveQuiz('${sub}','${topic}')">‡§∏‡•á‡§µ</button>
  `;
}

function saveQuiz(sub,topic){
  let key=sub+topic+"quiz";
  let arr=JSON.parse(localStorage.getItem(key)||"[]");
  arr.push(txt.value);
  localStorage.setItem(key,JSON.stringify(arr));
  alert("Quiz ‡§∏‡•á‡§µ");
}

function viewQuiz(sub,topic){
  let key=sub+topic+"quiz";
  let arr=JSON.parse(localStorage.getItem(key)||"[]");
  let html="<h3>Quiz</h3>";
  arr.forEach(q=>html+=`<p>${q}</p>`);
  quizPanel.innerHTML=html;
}
</script>

</body>
</html>
